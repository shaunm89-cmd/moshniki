<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ElectroCompare AU | Live Electronics Pricing</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary: #0056b3; /* Tech Blue */
            --secondary: #ffcc00; /* Contrast Yellow (JB style) */
            --bg: #f4f7f6;
            --surface: #ffffff;
            --text-main: #333333;
            --text-sub: #666666;
            --success: #28a745;
            --radius: 12px;
            --shadow: 0 4px 20px rgba(0,0,0,0.05);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', Roboto, Helvetica, sans-serif; }

        body { background-color: var(--bg); color: var(--text-main); line-height: 1.6; }

        /* --- Header Section --- */
        header {
            background: linear-gradient(135deg, #004a99 0%, #007bff 100%);
            padding: 40px 20px;
            text-align: center;
            color: white;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        header h1 { font-size: 2.5rem; margin-bottom: 10px; font-weight: 700; letter-spacing: -1px; }
        header p { font-size: 1.1rem; opacity: 0.9; margin-bottom: 30px; }

        /* --- Search Box --- */
        .search-container {
            max-width: 700px;
            margin: 0 auto;
            position: relative;
        }

        .search-box {
            width: 100%;
            padding: 20px 30px;
            border-radius: 50px;
            border: none;
            font-size: 1.1rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            outline: none;
            transition: all 0.3s ease;
        }

        .search-box:focus { transform: scale(1.02); box-shadow: 0 15px 40px rgba(0,0,0,0.2); }
        .search-icon { position: absolute; right: 25px; top: 50%; transform: translateY(-50%); color: var(--primary); font-size: 1.2rem; cursor: pointer; }

        /* --- Main Content --- */
        main { max-width: 1000px; margin: 40px auto; padding: 0 20px; }

        /* --- Results Grid --- */
        #results-area { display: grid; gap: 20px; }
        
        .product-card {
            background: var(--surface);
            border-radius: var(--radius);
            padding: 25px;
            box-shadow: var(--shadow);
            display: grid;
            grid-template-columns: 100px 1fr 180px;
            gap: 25px;
            align-items: center;
            transition: transform 0.2s;
            animation: fadeIn 0.4s ease-out;
        }

        .product-card:hover { transform: translateY(-3px); box-shadow: 0 8px 25px rgba(0,0,0,0.1); }

        .product-img {
            width: 100px;
            height: 100px;
            background: #eee;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: #ccc;
        }

        .product-info h3 { font-size: 1.3rem; margin-bottom: 5px; color: var(--text-main); }
        .product-info .meta { font-size: 0.9rem; color: var(--text-sub); display: flex; gap: 10px; }
        .badge { background: #eef2f7; padding: 4px 10px; border-radius: 4px; font-weight: 600; font-size: 0.8rem; color: var(--primary); }

        /* --- Retailer List inside Card --- */
        .retailer-list {
            grid-column: 1 / -1;
            margin-top: 15px;
            border-top: 1px solid #eee;
            padding-top: 15px;
            display: grid;
            gap: 10px;
        }

        .retailer-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 15px;
            background: #f9f9f9;
            border-radius: 8px;
            border: 1px solid transparent;
        }

        .retailer-row.best-price {
            background: #e6f9ec;
            border-color: #c3e6cb;
        }

        .retailer-name { font-weight: 600; display: flex; align-items: center; gap: 10px; }
        .retailer-logo-icon { width: 24px; text-align: center; }
        
        /* Retailer specific colors for icons */
        .jb-icon { color: #FFCC00; background: #000; padding: 2px; border-radius: 4px; }
        .office-icon { color: #0033CC; }
        .harvey-icon { color: #E2001A; }
        .good-icon { color: #ED1C24; }
        
        .price-tag { font-size: 1.1rem; font-weight: 700; color: var(--text-main); }
        .best-price .price-tag { color: var(--success); }
        
        .deal-btn {
            background: var(--text-main);
            color: white;
            text-decoration: none;
            padding: 8px 15px;
            border-radius: 6px;
            font-size: 0.85rem;
            transition: background 0.2s;
        }
        .best-price .deal-btn { background: var(--success); }
        .deal-btn:hover { opacity: 0.9; }

        /* --- Loading Spinner --- */
        .loader {
            display: none;
            text-align: center;
            padding: 50px;
        }
        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border-left-color: var(--primary);
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }

        /* --- Empty State --- */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-sub);
        }
        .empty-state i { font-size: 3rem; margin-bottom: 20px; opacity: 0.3; }

        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Mobile Responsive */
        @media (max-width: 600px) {
            .product-card { grid-template-columns: 1fr; text-align: center; }
            .product-img { margin: 0 auto; }
            .product-info .meta { justify-content: center; }
        }
    </style>
</head>
<body>

<header>
    <div class="header-content">
        <h1>ElectroCompare<span style="color: #ffcc00;">.au</span></h1>
        <p>Compare prices across JB Hi-Fi, Officeworks, Harvey Norman & more instantly.</p>
        
        <div class="search-container">
            <input type="text" id="searchInput" class="search-box" placeholder="Enter product (e.g., iPhone 15, PS5, Samsung TV)...">
            <i class="fas fa-search search-icon" onclick="performSearch()"></i>
        </div>
    </div>
</header>

<main>
    <div id="loader" class="loader">
        <div class="spinner"></div>
        <p>Scanning Australian Retailers...</p>
    </div>

    <div id="results-area">
        <div class="empty-state">
            <i class="fas fa-laptop-medical"></i>
            <h2>Start your search</h2>
            <p>Type a product name above to find the best Australian deals.</p>
        </div>
    </div>
</main>

<script>
    // --- MOCK DATABASE (Simulating a Backend) ---
    // In a real app, this data would come from Python/Node.js scrapers
    const productsDB = [
        {
            id: 1,
            name: "Apple iPhone 15 (128GB) - Black",
            category: "Mobile",
            imageIcon: "fa-mobile-alt",
            prices: [
                { retailer: "JB Hi-Fi", price: 1499, iconClass: "jb-icon fa-solid fa-bold" },
                { retailer: "Officeworks", price: 1477, iconClass: "office-icon fa-solid fa-paperclip" },
                { retailer: "The Good Guys", price: 1499, iconClass: "good-icon fa-solid fa-thumbs-up" },
                { retailer: "Amazon AU", price: 1449, iconClass: "fa-brands fa-amazon" }
            ]
        },
        {
            id: 2,
            name: "Sony PlayStation 5 Slim Console",
            category: "Gaming",
            imageIcon: "fa-gamepad",
            prices: [
                { retailer: "JB Hi-Fi", price: 799, iconClass: "jb-icon fa-solid fa-bold" },
                { retailer: "Harvey Norman", price: 799, iconClass: "harvey-icon fa-solid fa-store" },
                { retailer: "Big W", price: 790, iconClass: "fa-solid fa-tag" },
                { retailer: "Amazon AU", price: 765, iconClass: "fa-brands fa-amazon" }
            ]
        },
        {
            id: 3,
            name: "Samsung 65\" CU8000 4K Crystal UHD Smart TV",
            category: "TV & Audio",
            imageIcon: "fa-tv",
            prices: [
                { retailer: "JB Hi-Fi", price: 995, iconClass: "jb-icon fa-solid fa-bold" },
                { retailer: "Bing Lee", price: 990, iconClass: "fa-solid fa-bolt" },
                { retailer: "Appliances Online", price: 1050, iconClass: "fa-solid fa-truck" }
            ]
        },
        {
            id: 4,
            name: "Sony WH-1000XM5 Noise Cancelling Headphones",
            category: "Audio",
            imageIcon: "fa-headphones",
            prices: [
                { retailer: "JB Hi-Fi", price: 549, iconClass: "jb-icon fa-solid fa-bold" },
                { retailer: "Officeworks", price: 499, iconClass: "office-icon fa-solid fa-paperclip" },
                { retailer: "Amazon AU", price: 485, iconClass: "fa-brands fa-amazon" }
            ]
        },
        {
            id: 5,
            name: "Nintendo Switch OLED Model - White",
            category: "Gaming",
            imageIcon: "fa-gamepad",
            prices: [
                { retailer: "Target", price: 539, iconClass: "fa-solid fa-bullseye" },
                { retailer: "Big W", price: 539, iconClass: "fa-solid fa-tag" },
                { retailer: "EB Games", price: 549, iconClass: "fa-solid fa-ghost" },
                { retailer: "Amazon AU", price: 499, iconClass: "fa-brands fa-amazon" }
            ]
        }
    ];

    const searchInput = document.getElementById('searchInput');
    const resultsArea = document.getElementById('results-area');
    const loader = document.getElementById('loader');

    // Event Listener for Enter Key
    searchInput.addEventListener('keypress', function (e) {
        if (e.key === 'Enter') {
            performSearch();
        }
    });

    function performSearch() {
        const query = searchInput.value.toLowerCase().trim();
        if (!query) return;

        // 1. Show Loader, Hide Results
        resultsArea.style.display = 'none';
        loader.style.display = 'block';

        // 2. Simulate Network Delay (800ms)
        setTimeout(() => {
            const filteredProducts = productsDB.filter(product => 
                product.name.toLowerCase().includes(query) || 
                product.category.toLowerCase().includes(query)
            );

            renderResults(filteredProducts);
            loader.style.display = 'none';
            resultsArea.style.display = 'grid';
        }, 800);
    }

    function renderResults(products) {
        resultsArea.innerHTML = '';

        if (products.length === 0) {
            resultsArea.innerHTML = `
                <div class="empty-state">
                    <i class="fas fa-search-minus"></i>
                    <h2>No products found</h2>
                    <p>Try searching for "iPhone", "Sony", "Samsung", or "Switch".</p>
                </div>
            `;
            return;
        }

        products.forEach(product => {
            // Find lowest price
            const lowestPrice = Math.min(...product.prices.map(p => p.price));

            // Generate Retailer HTML
            const retailersHTML = product.prices.map(retailer => {
                const isBestPrice = retailer.price === lowestPrice;
                return `
                    <div class="retailer-row ${isBestPrice ? 'best-price' : ''}">
                        <div class="retailer-name">
                            <i class="${retailer.iconClass} retailer-logo-icon"></i>
                            ${retailer.retailer}
                            ${isBestPrice ? '<span class="badge" style="margin-left:8px; color:#28a745; background:#fff; border:1px solid #28a745">BEST DEAL</span>' : ''}
                        </div>
                        <div style="display:flex; align-items:center; gap:15px;">
                            <div class="price-tag">$${retailer.price}</div>
                            <a href="#" class="deal-btn">Go to Store</a>
                        </div>
                    </div>
                `;
            }).join('');

            // Generate Card HTML
            const card = document.createElement('div');
            card.className = 'product-card';
            card.innerHTML = `
                <div class="product-img">
                    <i class="fas ${product.imageIcon}"></i>
                </div>
                <div class="product-info">
                    <h3>${product.name}</h3>
                    <div class="meta">
                        <span class="badge">${product.category}</span>
                        <span>Compare ${product.prices.length} stores</span>
                    </div>
                    <div class="retailer-list">
                        ${retailersHTML}
                    </div>
                </div>
            `;
            resultsArea.appendChild(card);
        });
    }
</script>

</body>
</html>
