<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Junior Connections</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&display=swap');

        body {
            font-family: 'Fredoka', sans-serif;
            background-color: #E0F7FA;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        h1 {
            color: #006064;
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px #4DD0E1;
        }

        .instructions {
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: #00838F;
        }

        .game-board {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            max-width: 600px;
            width: 100%;
        }

        .tile {
            background-color: white;
            border: 4px solid #B2EBF2;
            border-radius: 15px;
            padding: 20px 5px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            text-align: center;
            transition: transform 0.1s, background-color 0.2s;
            color: #333;
            box-shadow: 0 4px #80DEEA;
            text-transform: uppercase;
        }

        .tile:active {
            transform: translateY(4px);
            box-shadow: 0 0 #80DEEA;
        }

        .tile.selected {
            background-color: #4DD0E1;
            color: white;
            border-color: #0097A7;
            box-shadow: 0 4px #006064;
        }

        .tile.solved {
            cursor: default;
            transform: none;
            box-shadow: none;
            color: white;
            border: none;
        }

        /* Controls */
        .controls {
            margin-top: 30px;
            display: flex;
            gap: 15px;
        }

        button.action-btn {
            background-color: #FF7043;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            font-family: 'Fredoka', sans-serif;
            box-shadow: 0 5px #D84315;
            transition: transform 0.1s;
        }

        button.action-btn:active {
            transform: translateY(5px);
            box-shadow: 0 0 #D84315;
        }

        #message {
            margin-top: 20px;
            height: 30px;
            font-weight: bold;
            font-size: 1.2rem;
            color: #D84315;
        }

        /* Solved Group Colors */
        .group-0 { background-color: #FFD54F; /* Yellow */ color: #5D4037;}
        .group-1 { background-color: #81C784; /* Green */ }
        .group-2 { background-color: #64B5F6; /* Blue */ }
        .group-3 { background-color: #BA68C8; /* Purple */ }

    </style>
</head>
<body>

    <h1>ðŸ§© Junior Match</h1>
    <div class="instructions">Tap 4 words that go together!</div>

    <div id="game-board" class="game-board">
        </div>

    <div id="message"></div>

    <div class="controls">
        <button class="action-btn" onclick="checkSelection()">Submit!</button>
        <button class="action-btn" style="background-color: #90A4AE; box-shadow: 0 5px #546E7A;" onclick="deselectAll()">Clear</button>
    </div>

<script>
    // The Data from the previous response
    const groups = [
        { theme: "Playground", words: ["SLIDE", "SWING", "SANDBOX", "SEESAW"], id: 0 },
        { theme: "School Classes", words: ["MATH", "SCIENCE", "ART", "MUSIC"], id: 1 },
        { theme: "Pizza Toppings", words: ["CHEESE", "PEPPERONI", "MUSHROOM", "SAUSAGE"], id: 2 },
        { theme: "___ Ball", words: ["BASE", "BASKET", "FOOT", "SNOW"], id: 3 }
    ];

    let allWords = [];
    groups.forEach(g => {
        g.words.forEach(w => allWords.push({ word: w, groupId: g.id }));
    });

    // Shuffle words
    allWords.sort(() => Math.random() - 0.5);

    const board = document.getElementById('game-board');
    let selectedTiles = [];
    let solvedCount = 0;

    // Render Board
    allWords.forEach((item, index) => {
        const tile = document.createElement('div');
        tile.classList.add('tile');
        tile.innerText = item.word;
        tile.dataset.id = index;
        tile.dataset.groupId = item.groupId;
        
        tile.onclick = () => toggleTile(tile);
        board.appendChild(tile);
    });

    function toggleTile(tile) {
        if (tile.classList.contains('solved')) return;

        if (selectedTiles.includes(tile)) {
            tile.classList.remove('selected');
            selectedTiles = selectedTiles.filter(t => t !== tile);
        } else {
            if (selectedTiles.length < 4) {
                tile.classList.add('selected');
                selectedTiles.push(tile);
            }
        }
    }

    function checkSelection() {
        const msg = document.getElementById('message');
        if (selectedTiles.length !== 4) {
            msg.innerText = "Pick 4 words first!";
            setTimeout(() => msg.innerText = "", 2000);
            return;
        }

        const firstId = selectedTiles[0].dataset.groupId;
        const isMatch = selectedTiles.every(tile => tile.dataset.groupId === firstId);

        if (isMatch) {
            msg.innerText = "Great Job! ðŸŽ‰";
            msg.style.color = "#2E7D32";
            
            selectedTiles.forEach(tile => {
                tile.classList.remove('selected');
                tile.classList.add('solved', `group-${firstId}`);
            });
            
            selectedTiles = [];
            solvedCount++;
            
            if (solvedCount === 4) {
                msg.innerText = "YOU WON! ðŸ† Refresh to play again.";
            }
        } else {
            msg.innerText = "Not quite... try again! ðŸ¤”";
            msg.style.color = "#D84315";
            
            // Shake animation effect
            selectedTiles.forEach(tile => {
                tile.style.backgroundColor = "#FFCDD2";
                setTimeout(() => {
                    tile.classList.remove('selected');
                    tile.style.backgroundColor = "";
                }, 500);
            });
            selectedTiles = [];
        }
        
        setTimeout(() => { if(solvedCount < 4) msg.innerText = ""; }, 2000);
    }

    function deselectAll() {
        selectedTiles.forEach(tile => tile.classList.remove('selected'));
        selectedTiles = [];
    }
</script>

</body>
</html>
